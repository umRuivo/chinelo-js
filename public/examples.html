<!-- Note: This project now uses npm instead of bun. -->
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examples - Controller Creation</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" href="/" + globalData.sufix>Chinelo JS</a>
                <div class="collapse navbar-collapse">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="/" + globalData.sufix>Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/userguide.html" + globalData.sufix>User Guide</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/examples.html" + globalData.sufix>Examples</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/whatis.html">What is it?</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <main class="container mt-4">
        <h1>Exemplos: Criação de Controller</h1>
        <p>Esta seção demonstra como criar um novo controller no Chinelo.js.</p>

        <h2>Passo 1: Crie o Arquivo do Controller</h2>
        <p>Crie um novo arquivo JavaScript no diretório <code>src/controllers/</code>. Por exemplo, vamos criar <code>src/controllers/example.js</code>:</p>
        <pre><code class="language-javascript">// src/controllers/example.js

export function hello(req, res) {
    res.send('Hello from Example Controller!');
}

export function index(req, res) {
    res.send('This is the index function!');
}

export function greet(req, res) {
    const {name} = req.params;
    res.send(`Greetings, ${name}!`);
}

export const httpMethods = [
    ['greet', 'GET'] // o metodo GET é opcional, pois ele será atribuido quando nada é atribuido como metodo
];

export const routeParams = [
    ['greet', ['name']]
];

export const routePrefixes = [
    ['greet', 'custom/'] // Gera a rota /custom/example/greet/:name
];
</code></pre>

        <h2>Passo 2: Acesse as Rotas</h2>
        <p>Uma vez que o servidor esteja rodando, o Chinelo.js criará automaticamente as rotas com base no arquivo do seu controller e nos nomes das funções:</p>
        <ul>
            <li>Para acessar a função <code>hello</code>: <code>/example/hello</code></li>
            <li>Para acessar a função <code>index</code>: <code>/example</code></li>
            <li>Para acessar a função <code>greet</code>: <code>/custom/example/greet/:name</code> (ex: <code>/custom/example/greet/John</code>)</li>
        </ul>

        <p>Lembre-se de reiniciar seu servidor se você não estiver usando hot-reloading para que as alterações tenham efeito.</p>
    </main>
    <script src="/js/bootstrap.bundle.min.js"></script>
</body>
</html>
